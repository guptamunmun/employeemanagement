{"ast":null,"code":"var _jsxFileName = \"D:\\\\employee\\\\employee\\\\src\\\\components\\\\EmployeeForm.jsx\",\n  _s = $RefreshSig$();\n// src/components/EmployeeForm.js\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EmployeeForm = ({\n  onSubmit,\n  selectedEmployee,\n  userRole\n}) => {\n  _s();\n  const [employee, setEmployee] = useState({\n    name: '',\n    email: '',\n    role: '',\n    photo: null,\n    dateOfBirth: '',\n    resume: null\n  });\n  useEffect(() => {\n    if (selectedEmployee) setEmployee(selectedEmployee);\n  }, [selectedEmployee]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type,\n      files\n    } = e.target;\n    if (type === 'file') {\n      setEmployee({\n        ...employee,\n        [name]: files[0]\n      });\n    } else {\n      setEmployee({\n        ...employee,\n        [name]: value\n      });\n    }\n  };\n  const isValidAge = dob => {\n    const today = new Date();\n    const birthDate = new Date(dob);\n    const age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n    return monthDiff < 0 || monthDiff === 0 && today.getDate() < birthDate.getDate() ? age - 1 : age;\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (isValidAge(employee.dateOfBirth) < 18) {\n      alert('Employee must be at least 18 years old.');\n      return;\n    }\n    if (employee.resume && employee.resume.size > 1024 * 1024) {\n      alert('Resume must be less than 1 MB.');\n      return;\n    }\n    onSubmit(employee);\n    setEmployee({\n      name: '',\n      email: '',\n      role: '',\n      photo: null,\n      dateOfBirth: '',\n      resume: null\n    });\n  };\n  if (userRole !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You do not have permission to add employees.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Name\",\n        value: employee.name,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        value: employee.email,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"role\",\n        placeholder: \"Role\",\n        value: employee.role,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"photo\",\n        accept: \"image/*\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"dateOfBirth\",\n        value: employee.dateOfBirth,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"resume\",\n        accept: \".pdf,.doc,.docx\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: selectedEmployee ? 'Update Employee' : 'Add Employee'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this);\n  }\n};\n_s(EmployeeForm, \"elQTmLaH6zZAc1FDTQkquzcfbDY=\");\n_c = EmployeeForm;\nexport default EmployeeForm;\nvar _c;\n$RefreshReg$(_c, \"EmployeeForm\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","EmployeeForm","onSubmit","selectedEmployee","userRole","_s","employee","setEmployee","name","email","role","photo","dateOfBirth","resume","handleChange","e","value","type","files","target","isValidAge","dob","today","Date","birthDate","age","getFullYear","monthDiff","getMonth","getDate","handleSubmit","preventDefault","alert","size","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","required","accept","_c","$RefreshReg$"],"sources":["D:/employee/employee/src/components/EmployeeForm.jsx"],"sourcesContent":["// src/components/EmployeeForm.js\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nconst EmployeeForm = ({ onSubmit, selectedEmployee , userRole }) => {\r\n  const [employee, setEmployee ] = useState({\r\n    name: '',\r\n    email: '',\r\n    role: '',\r\n    photo: null,\r\n    dateOfBirth: '',\r\n    resume: null,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (selectedEmployee) setEmployee(selectedEmployee);\r\n  }, [selectedEmployee]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, files } = e.target;\r\n    if (type === 'file') {\r\n      setEmployee({ ...employee, [name]: files[0] });\r\n    } else {\r\n      setEmployee({ ...employee, [name]: value });\r\n    }\r\n  };\r\n\r\n  const isValidAge = (dob) => {\r\n    const today = new Date();\r\n    const birthDate = new Date(dob);\r\n    const age = today.getFullYear() - birthDate.getFullYear();\r\n    const monthDiff = today.getMonth() - birthDate.getMonth();\r\n    return monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())\r\n      ? age - 1\r\n      : age;\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (isValidAge(employee.dateOfBirth) < 18) {\r\n      alert('Employee must be at least 18 years old.');\r\n      return;\r\n    }\r\n    if (employee.resume && employee.resume.size > 1024 * 1024) {\r\n      alert('Resume must be less than 1 MB.');\r\n      return;\r\n    }\r\n    onSubmit(employee);\r\n    setEmployee({\r\n      name: '',\r\n      email: '',\r\n      role: '',\r\n      photo: null,\r\n      dateOfBirth: '',\r\n      resume: null,\r\n    });\r\n  };\r\n\r\n  if (userRole !== 'admin') {\r\n    return <p>You do not have permission to add employees.</p>;\r\n  }\r\nelse{\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"Name\"\r\n        value={employee.name}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <input\r\n        type=\"email\"\r\n        name=\"email\"\r\n        placeholder=\"Email\"\r\n        value={employee.email}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        name=\"role\"\r\n        placeholder=\"Role\"\r\n        value={employee.role}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <input\r\n        type=\"file\"\r\n        name=\"photo\"\r\n        accept=\"image/*\"\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <input\r\n        type=\"date\"\r\n        name=\"dateOfBirth\"\r\n        value={employee.dateOfBirth}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <input\r\n        type=\"file\"\r\n        name=\"resume\"\r\n        accept=\".pdf,.doc,.docx\"\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n      <button type=\"submit\">\r\n        {selectedEmployee ? 'Update Employee' : 'Add Employee'}\r\n      </button>\r\n    </form>\r\n  );}\r\n};\r\n\r\nexport default EmployeeForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}